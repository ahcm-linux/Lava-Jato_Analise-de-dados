# Download de dados do TSE e criação de banco de dados SQLite

Os arquivos desta pasta servem para fazer o download automático dos dados do TSE usado para a análise estatística e para criar um banco o banco de dados que serviu como etapa intermediária para gera os dados do arquivo [dados-de-todos-os-candidatos.csv](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/blob/main/dados-Lava-Jato/dados-de-todos-os-candidatos.csv) usado diretamente pelo R na análise de dados.

Caso você apenas queira ter acesso aos links para download dos dados eleitorais do TSE usados na análise estatística, confira o conteúdo do arquivo [links-do-tse.txt](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/blob/main/codigos-para-extrair-dados-do-TSE/links-do-tse.txt). Estes são os únicos links que vocÊ precisa usar para obter os dados necessários do repositório do TSE!

**Todos os dados necessários para reproduzir a análise estatística estão separados na pasta [dados-Lava-Jato](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/tree/main/dados-Lava-Jato), o que torna desnecessário para você a construção do banco de dados a partir dos procedimentos descritos abaixo. Portanto, sinta-se a vontade para pular esta etapa! Caso você queira realizar esta etapa e criar o banco de dados no seu computador, sigua as instruções a seguir.**

1. Instale o Sistema de Gerenciamento de Banco de Dados SQLite, de acordo com as instruções dadas no [site oficial do SQLite](https://www.sqlite.org/index.html) para instalação no seu sistema operacional. Caso você não saiba como usar as instruções do site, não siga as etapas a seguir!
2. Se você usa o Windows como sistema operacional, instale o *software* Git SMC (também chamado de Git For Windows) de acordo com a instruções do [site oficial](https://gitforwindows.org/). Caso você não consiga instalar este *sofware*, não siga as etapas a seguir!
3. Abra o Git Bash (ou, se você não for um usuário do Windows, o terminal Linux ou MacOs) e caminhe até esta pasta **codigos-para-extrair-dados-do-TSE** usando o comando ```cd```
4. Dê permissão de execução para o arquivo [criar-banco-de-dados.sh](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/blob/main/codigos-para-extrair-dados-do-TSE/criar-banco-de-dados.sh), executando o comando ```chmod +x criar-banco-de-dados.sh```
5. Execute o seguinte comando ```./criar-banco-de-dados.sh banco-de-dados-tse.db links-do-tse.txt ```

Após a execução das instruções acima, será gerado na pasta **codigos-para-extrair-dados-do-TSE** um arquivo com nome *banco-de-dados-tse.db* que é o banco de dados SQLite contendo todas as tabelas de dados extrídas do repositório de dados do TSE (especificamente dos links de download contidos no arquivo [links-do-tse.txt](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/blob/main/codigos-para-extrair-dados-do-TSE/links-do-tse.txt)) e modificadas de acordo com os comandos SQL do arquivo [modificar-banco-de-dados.sql](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/blob/main/codigos-para-extrair-dados-do-TSE/modificar-banco-de-dados.sql). A principal tabela do banco de dados foi nomeada como *dados* e correponde ao arquivo [dados-de-todos-os-candidatos.csv](https://github.com/ahcm-linux/Lava-Jato_Analise-de-dados/blob/main/dados-Lava-Jato/dados-de-todos-os-candidatos.csv).